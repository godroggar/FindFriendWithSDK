{"version":3,"sources":["GameApplication.js"],"names":["SoundManager","require","cc","Class","extends","Component","properties","soundManager","default","type","missions","missionsCB","conf","confCB","createShortcuted","Integer","effectView","Node","StepView","visible","StepView_prefab","Prefab","HeartView","HeartView_prefab","CoinView","CoinView_prefab","SharaView","SharaView_prefab","fbView_prefab","_playTimes","playTimes","get","set","val","SDK","plusPlayTimes","uiAtlas","SpriteAtlas","rewardList","lerpACtion","start","disVal","time","callback","agent","stopAllActions","ob","x","repeatTime","repeatVal","runAction","repeat","sequence","callFunc","bind","moveBy","v2","setLanguage","window","nameArr","init","getConf","path","cb","console","log","loader","loadRes","err","results","json","onLoad","gameApplication","manager","director","getCollisionManager","enabled","enabledDebugDraw","enabledDrawBoundingBox","invokeMissionCB","openMainView","curShowIdx","onDestroy","language","i18n","getMissions","length","push","error","self","forEach","setNodeActive","nodePath","active","isPop","view","find","name","top","goGame","moveTo","Bg","scale","scaleTo","easing","easeBounceOut","opacity","fadeIn","winSize","height","easeSineIn","fadeOut","isReward","mainScirpt","refreashVal","scheduleOnce","flyReward","starts","openRankView","openGameView","openPopView","viewName","isOpen","openGiftView","openSetting","settingClick","event","showVideoView","isCount","VideoView","instantiate","VideoView_prefab","Canvas","parent","width","setSiblingIndex","childrenCount","getChildByName","light","repeatForever","rotateBy","sureBtn","sureText","getComponent","Label","off","EventType","TOUCH_END","viewCount","checkDailyCount","Button","interactable","string","on","playSound","onVideoBtnClick","isCompleted","laterBtn","showCoinView","showHeartView","sureBtn1","sureText1","viewCount1","onShareBtnClick","showStepView","getItem","coin","setItem","coins","key","isAdd","myDate","Date","month","getMonth","day","getDate","parseInt","param","onGiftBtnClick","showInterstitialAd","fbFail","showSharaView","score","btn","fbView","destroy","popClick","switchGameAsync","shake","node","rotateTo","easeIn","delayTime","scaleUpAndDowm","num","target","begin","convertToWorldSpaceAR","position","convertToNodeSpaceAR","dis","i","reward","pop","sprite","Sprite","addComponent","spriteFrame","getSpriteFrame","flyAnim","spawn","y"],"mappings":"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","file":"GameApplication.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\GameLogic","sourcesContent":["import { SIGPROF } from \"constants\";\nvar SoundManager = require(\"../GameLogic/SoundManager\");\n\ncc.Class({\n    extends: cc.Component,\n    //需要更多源码联系Q:852183691\n    //或者\n    //关注微信公众号“史于二”\n    properties: {\n        soundManager: {\n            default: null,\n            type: SoundManager,\n        },\n        missions: {\n            default: []\n        },\n        missionsCB: {\n            default: []\n        },\n        conf: {\n            default: {},\n        },\n        confCB: {\n            default: []\n        },\n        createShortcuted: {\n            default: 0,\n            type: cc.Integer,\n        },\n        effectView: {\n            default: null,\n            type: cc.Node,\n        },\n        StepView: {\n            default: null,\n            type: cc.Node,\n            visible: false,\n        },\n        StepView_prefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n        HeartView: {\n            default: null,\n            type: cc.Node,\n            visible: false,\n        },\n        HeartView_prefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n        CoinView: {\n            default: null,\n            type: cc.Node,\n            visible: false,\n        },\n        CoinView_prefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n        SharaView: {\n            default: null,\n            type: cc.Node,\n            visible: false,\n        },\n        SharaView_prefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n        fbView_prefab: {\n            default: null,\n            type: cc.Prefab,\n        },\n        _playTimes: {\n            default: 0,\n            type: cc.Integer,\n        },\n        playTimes: {\n            get: function () {\n                return this._playTimes;\n            },\n            set: function (val) {\n                this._playTimes = val;\n\n                SDK().plusPlayTimes();\n            },\n        },\n        uiAtlas: {\n            default: null,\n            type: cc.SpriteAtlas,\n        },\n        rewardList: {\n            default: [],\n            type: [cc.Node],\n            visible: false,\n        },\n    },\n\n\n    //起始值，位移量，时间，回调\n    lerpACtion(start, disVal, time, callback) {\n        if (this.agent == null) {\n            this.agent = new cc.Node(\"agent\");\n        }\n        this.agent.stopAllActions();\n        let ob = this.agent;\n        if (start != null) {\n            ob.x = start;\n        }\n        let repeatTime = time / 0.02;\n        let repeatVal = disVal / repeatTime;\n        ob.runAction(cc.repeat(\n            cc.sequence(\n                cc.callFunc(function () {\n                    callback(ob);\n                }.bind(this), this),\n                cc.moveBy(0.02, cc.v2(repeatVal, 0)),\n            )\n            , repeatTime + 1));\n    },\n\n\n    start() {\n        // SDK().getItem(\"curLang\", function (idx) {\n        //     if (idx == null) {\n        //         idx = 0;\n        //     }\n        // \tidx = 4;//zh\n        //     this.setLanguage(window.nameArr[idx]);\n        // }.bind(this))\n        this.setLanguage(window.nameArr[4]);\n        SDK().init();\n        //new SDK\n\n\n\n    },\n\n    getConf(path, cb) {\n\n\n        if (this.conf[path] != null) {\n            if (cb) {\n                // cc.log(\"从cache读取：\"+path)\n                console.log(\"从cache读取：\" + path);\n                cb(this.conf[path]);\n            }\n        } else {\n            // cc.log(\"从硬盘读取：\"+path)\n            console.log(\"从硬盘读取：\" + path);\n            cc.loader.loadRes(path, function (err, results) {\n                this.conf[path] = results.json;\n                if (cb != null) {\n                    cb(results.json);\n                }\n            }.bind(this));\n        }\n    },\n\n\n    onLoad() {\n        window.gameApplication = this;\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n        manager.enabledDebugDraw = false;\n        manager.enabledDrawBoundingBox = false;\n\n\n\n        //Load Json\n        cc.loader.loadRes(\"conf/missions\", function (err, results) {\n            //loadRes出来是一个嵌套的json，你需要去取到里面的json字段才可以\n            this.missions = results.json;\n            this.invokeMissionCB();\n        }.bind(this));\n\n        this.openMainView();\n        //cc.game.addPersistRootNode(this.node);\n        this.curShowIdx = 0;\n    },\n\n    onDestroy() {\n        cc.director.getCollisionManager().enabled = false;\n    },\n\n    setLanguage(language) {\n        const i18n = require('LanguageData');\n        i18n.init(language);\n    },\n\n    getMissions(cb) {\n        try {\n            if (this.missions != null && this.missions.length > 0) {\n                cb(this.missions);\n            } else {\n                this.missionsCB.push(cb);\n            }\n        } catch (error) {\n\n        }\n\n    },\n\n    invokeMissionCB() {\n        var self = this;\n        try {\n            console.log('进入try missionCB');\n            if (this.missionsCB.length > 0) {\n                this.missionsCB.forEach(function (cb) {\n                    if (cb != null) {\n                        cb(self.missions);\n                    }\n                });\n            }\n            console.log('出去try missionCB');\n        } catch (error) {\n            console.log(\"missonsCB.length出错\");\n        }\n    },\n\n    setNodeActive(nodePath, active, isPop) {\n        var view = cc.find(\"Canvas/\" + nodePath);\n        if (view != null) {\n            if (active) {\n                view.active = active;\n                if (view.name == \"MainView\" || view.name == \"GameView\") {\n                    var top = cc.find(\"top\", view)\n                    if (top != null) {\n                        top.active = true;\n                    }\n                    var goGame = cc.find(\"GoGame\", view)\n                    if (goGame != null) {\n                        goGame.active = false;\n                    }\n                    view.runAction(cc.moveTo(0.5, cc.v2(0, 0)));\n                }\n                if (isPop) {\n                    var Bg = cc.find(\"Bg\", view);\n                    Bg.scale = 0;\n                    Bg.runAction(\n                        /* cc.sequence( */\n                        cc.scaleTo(0.5, 1).easing(cc.easeBounceOut(2)),\n                        /*     cc.callFunc(function () {\n                                view.active = false;\n                            }.bind(this), this) \n                        )*/\n                    )\n                } else {\n                    view.opacity = 0;\n                    view.runAction(cc.fadeIn(0.5));\n                }\n            } else {\n                if (view.name == \"MainView\") {\n                    var top = cc.find(\"top\", view)\n                    if (top != null) {\n                        top.active = false;\n                    }\n                    view.runAction(cc.sequence(\n                        cc.moveTo(0.5, cc.v2(0, -cc.winSize.height)),\n                        cc.callFunc(function () {\n                            view.active = true;\n                        }.bind(this), this)\n                    ));\n                } else if (view.name == \"GameView\") {\n                    view.runAction(cc.sequence(\n                        cc.moveTo(0.5, cc.v2(0, cc.winSize.height)),\n                        cc.callFunc(function () {\n                            view.active = active;\n                        }.bind(this), this)\n                    ));\n                }\n                if (isPop) {\n                    var Bg = cc.find(\"Bg\", view);\n                    Bg.runAction(\n                        cc.sequence(\n                            cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                            cc.callFunc(function () {\n                                view.active = false;\n                            }.bind(this), this)\n                        )\n                    )\n                } else {\n                    view.runAction(cc.fadeOut(0.5));\n                }\n            }\n        }\n    },\n\n    openMainView: function (isReward) {\n        if (window.mainScirpt != null) {\n            window.mainScirpt.refreashVal();\n            if (isReward) {\n                this.scheduleOnce(function () {\n                    window.gameApplication.flyReward(1, \"starBig\", window.mainScirpt.starts, null);\n                }.bind(this), 1)\n            }\n        }\n        this.setNodeActive(\"MainView\", true);\n        this.setNodeActive(\"GameView\", false);\n        this.openRankView(false);\n    },\n\n    openGameView: function () {\n        this.setNodeActive(\"GameView\", true);\n        this.setNodeActive(\"MainView\", false);\n        this.openRankView(false);\n    },\n\n    openPopView: function (viewName, isOpen) {\n        this.setNodeActive(viewName, isOpen, true);\n    },\n\n    openRankView: function (isOpen) {\n        this.openPopView(\"RankView\", isOpen);\n    },\n\n    openGiftView: function (isOpen) {\n        this.openPopView(\"GiftView\", isOpen);\n    },\n\n    openSetting: function (isOpen) {\n        this.openPopView(\"SettingView\", isOpen);\n    },\n\n\n    //设置界面\n    settingClick(event, type) {\n        if (type == \"1\") {\n            this.openSetting(true);\n        } else if (type == \"2\") {\n            this.openSetting(false);\n        }\n    },\n\n    //显示是否观看视频的提示框\n    showVideoView(cb, isCount) {\n        if (this.VideoView == null) {\n            var view = cc.instantiate(this.VideoView_prefab);\n            var Canvas = cc.find(\"Canvas\");\n            view.parent = Canvas;\n            view.width = window.width;\n            view.height = window.height;\n            this.VideoView = view;\n        }\n        this.VideoView.active = true;\n        this.VideoView.setSiblingIndex(this.VideoView.parent.childrenCount);\n\n        //弹出动画\n        let Bg = this.VideoView.getChildByName(\"Bg\");\n        Bg.scale = 0;\n        Bg.runAction(cc.scaleTo(0.5, 1).easing(cc.easeBounceOut(2)));\n\n        //旋转光\n        let light = this.VideoView.getChildByName(\"Bg\").getChildByName(\"Light\");\n        light.stopAllActions();\n        light.runAction(cc.repeatForever(\n            cc.rotateBy(1.1, 100),\n        ));\n\n        let sureBtn = this.VideoView.getChildByName(\"Bg\").getChildByName(\"Sure\");\n        let sureText = sureBtn.getChildByName(\"Text\").getComponent(cc.Label);\n        sureBtn.off(cc.Node.EventType.TOUCH_END);\n\n        let viewCount = 0;\n        this.checkDailyCount(\"video\", false, function (val) {\n            viewCount = 5 - val;\n            if (viewCount > 0) {\n                sureBtn.getComponent(cc.Button).interactable = true;\n            } else {\n                sureBtn.getComponent(cc.Button).interactable = false;\n            }\n            if (isCount) {\n                sureText.string = \"免费(\" + viewCount + \")\";\n            } else {\n                sureText.string = \"免费\";\n                sureBtn.getComponent(cc.Button).interactable = true;\n            }\n            sureBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n                if (viewCount > 0 || !isCount) {\n                    window.gameApplication.soundManager.playSound(\"btn_click\");\n                    this.onVideoBtnClick(function (isCompleted) {\n                        cb(isCompleted)\n                        this.VideoView.active = !isCompleted;\n                    }.bind(this), isCount);\n                }\n            }, this);\n        }.bind(this));\n\n        //按钮设置\n        var laterBtn = this.VideoView.getChildByName(\"Bg\").getChildByName(\"Later\");\n        laterBtn.off(cc.Node.EventType.TOUCH_END);\n        laterBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n            cb(false);\n            this.VideoView.active = false;\n        }, this);\n    },\n\n    //显示是否观看视频的提示框\n    showCoinView(cb, isCount) {\n        if (this.CoinView == null) {\n            var view = cc.instantiate(this.CoinView_prefab);\n            var Canvas = cc.find(\"Canvas\");\n            view.parent = Canvas;\n            view.width = window.width;\n            view.height = window.height;\n            this.CoinView = view;\n        }\n        this.CoinView.active = true;\n        this.CoinView.setSiblingIndex(this.CoinView.parent.childrenCount);\n\n        //弹出动画\n        let Bg = this.CoinView.getChildByName(\"Bg\");\n        Bg.scale = 0;\n        Bg.runAction(cc.scaleTo(0.5, 1).easing(cc.easeBounceOut(2)));\n\n        //旋转光\n        let light = this.CoinView.getChildByName(\"Bg\").getChildByName(\"Bg\").getChildByName(\"Light\");\n        light.stopAllActions();\n        light.runAction(cc.repeatForever(\n            cc.rotateBy(1.1, 100),\n        ));\n\n        //按钮设置\n        let sureBtn = this.CoinView.getChildByName(\"Bg\").getChildByName(\"Bg\").getChildByName(\"Sure\");\n        let sureText = sureBtn.getChildByName(\"Text\").getComponent(cc.Label);\n        sureBtn.off(cc.Node.EventType.TOUCH_END);\n\n        let viewCount = 0;\n        this.checkDailyCount(\"coinVideo\", false, function (val) {\n            viewCount = 100 - val;\n            if (viewCount > 0) {\n                sureBtn.getComponent(cc.Button).interactable = true;\n            } else {\n                sureBtn.getComponent(cc.Button).interactable = false;\n            }\n            if (isCount) {\n                sureText.string = \"免费(\" + viewCount + \")\";\n            } else {\n                sureText.string = \"免费\";\n                sureBtn.getComponent(cc.Button).interactable = true;\n            }\n            sureBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n                if (viewCount > 0 || !isCount) {\n                    window.gameApplication.soundManager.playSound(\"btn_click\");\n                    this.onVideoBtnClick(function (isCompleted) {\n                        if (isCompleted) {\n                            Bg.runAction(\n                                cc.sequence(\n                                    cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                                    cc.callFunc(function () {\n                                        this.CoinView.active = false;\n                                    }.bind(this), this)\n                                )\n                            )\n                        }\n                        cb(isCompleted)\n                    }.bind(this), isCount);\n                }\n            }, this);\n        }.bind(this));\n\n        var laterBtn = this.CoinView.getChildByName(\"Bg\").getChildByName(\"Later\");\n        laterBtn.off(cc.Node.EventType.TOUCH_END);\n        laterBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n            cb(false);\n            Bg.runAction(\n                cc.sequence(\n                    cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                    cc.callFunc(function () {\n                        this.CoinView.active = false;\n                    }.bind(this), this)\n                )\n            )\n        }, this);\n    },\n\n    //显示获取体力的提示框\n    showHeartView(cb, isCount) {\n        if (this.HeartView == null) {\n            var view = cc.instantiate(this.HeartView_prefab);\n            var Canvas = cc.find(\"Canvas\");\n            view.parent = Canvas;\n            view.width = window.width;\n            view.height = window.height;\n            this.HeartView = view;\n        }\n        this.HeartView.active = true;\n        this.HeartView.setSiblingIndex(this.HeartView.parent.childrenCount);\n\n        //弹出动画\n        let Bg = this.HeartView.getChildByName(\"Bg\");\n        Bg.scale = 0;\n        Bg.runAction(cc.scaleTo(0.5, 1).easing(cc.easeBounceOut(2)));\n\n        //旋转光\n        let light = this.HeartView.getChildByName(\"Bg\").getChildByName(\"Bg\").getChildByName(\"Light\");\n        light.stopAllActions();\n        light.runAction(cc.repeatForever(\n            cc.rotateBy(1.1, 100),\n        ));\n\n        //按钮设置\n        let sureBtn = this.HeartView.getChildByName(\"Bg\").getChildByName(\"Bg\").getChildByName(\"Video\");\n        let sureText = sureBtn.getChildByName(\"Text\").getComponent(cc.Label);\n        sureBtn.off(cc.Node.EventType.TOUCH_END);\n\n        let viewCount = 0;\n        this.checkDailyCount(\"heartVideo\", false, function (val) {\n            viewCount = 5 - val;\n            if (viewCount > 0) {\n                sureBtn.getComponent(cc.Button).interactable = true;\n            } else {\n                sureBtn.getComponent(cc.Button).interactable = false;\n            }\n            if (isCount) {\n                sureText.string = \"免费(\" + viewCount + \")\";\n            } else {\n                sureText.string = \"免费\";\n                sureBtn.getComponent(cc.Button).interactable = true;\n            }\n            sureBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n                if (viewCount > 0 || !isCount) {\n                    window.gameApplication.soundManager.playSound(\"btn_click\");\n                    this.onVideoBtnClick(function (isCompleted) {\n                        if (isCompleted) {\n                            Bg.runAction(\n                                cc.sequence(\n                                    cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                                    cc.callFunc(function () {\n                                        this.HeartView.active = false;\n                                    }.bind(this), this)\n                                )\n                            )\n                        }\n                        cb(isCompleted)\n                    }.bind(this), isCount);\n                }\n            }, this);\n        }.bind(this));\n\n        let sureBtn1 = this.HeartView.getChildByName(\"Bg\").getChildByName(\"Bg\").getChildByName(\"Share\");\n        let sureText1 = sureBtn1.getChildByName(\"Text\").getComponent(cc.Label);\n        sureBtn1.off(cc.Node.EventType.TOUCH_END);\n\n        let viewCount1 = 0;\n        this.checkDailyCount(\"heartShare\", false, function (val) {\n            viewCount1 = 5 - val;\n            if (viewCount1 > 0) {\n                sureBtn1.getComponent(cc.Button).interactable = true;\n            } else {\n                sureBtn1.getComponent(cc.Button).interactable = false;\n            }\n            if (isCount) {\n                sureText1.string = \"FREE(\" + viewCount1 + \")\";\n            } else {\n                sureText1.string = \"FREE\";\n                sureBtn1.getComponent(cc.Button).interactable = true;\n            }\n            sureBtn1.on(cc.Node.EventType.TOUCH_END, function (event) {\n                if (viewCount1 > 0 || !isCount) {\n                    window.gameApplication.soundManager.playSound(\"btn_click\");\n                    this.onShareBtnClick(function (isCompleted) {\n                        if (isCompleted) {\n                            Bg.runAction(\n                                cc.sequence(\n                                    cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                                    cc.callFunc(function () {\n                                        this.HeartView.active = false;\n                                    }.bind(this), this)\n                                )\n                            )\n                        }\n                        cb(isCompleted)\n                    }.bind(this), isCount);\n                }\n            }, this);\n        }.bind(this));\n\n        var laterBtn = this.HeartView.getChildByName(\"Bg\").getChildByName(\"Later\");\n        laterBtn.off(cc.Node.EventType.TOUCH_END);\n        laterBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n            cb(false);\n            Bg.runAction(\n                cc.sequence(\n                    cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                    cc.callFunc(function () {\n                        this.HeartView.active = false;\n                    }.bind(this), this)\n                )\n            )\n        }, this);\n    },\n\n    //显示获取体力的提示框\n    showStepView(cb, isCount) {\n        if (this.StepView == null) {\n            var view = cc.instantiate(this.StepView_prefab);\n            var Canvas = cc.find(\"Canvas\");\n            view.parent = Canvas;\n            view.width = window.width;\n            view.height = window.height;\n            this.StepView = view;\n        }\n        this.StepView.active = true;\n        this.StepView.setSiblingIndex(this.StepView.parent.childrenCount);\n\n        //弹出动画\n        let Bg = this.StepView.getChildByName(\"Bg\");\n        Bg.scale = 0;\n        Bg.runAction(cc.scaleTo(0.5, 1).easing(cc.easeBounceOut(2)));\n\n        //按钮设置\n        let sureBtn = this.StepView.getChildByName(\"Bg\").getChildByName(\"Bg\").getChildByName(\"Video\");\n        sureBtn.off(cc.Node.EventType.TOUCH_END);\n\n        sureBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n            this.onVideoBtnClick(function (isCompleted) {\n                if (isCompleted) {\n                    Bg.runAction(\n                        cc.sequence(\n                            cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                            cc.callFunc(function () {\n                                this.StepView.active = false;\n                            }.bind(this), this)\n                        )\n                    )\n                }\n                cb(isCompleted)\n            }.bind(this), isCount);\n        }, this);\n\n        let sureBtn1 = this.StepView.getChildByName(\"Bg\").getChildByName(\"Bg\").getChildByName(\"Coin\");\n        sureBtn1.off(cc.Node.EventType.TOUCH_END);\n\n        sureBtn1.on(cc.Node.EventType.TOUCH_END, function (event) {\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n            SDK().getItem(\"coins\", function (coin) {\n                if (coin >= 100) {\n                    coin = coin - 100;\n                    SDK().setItem({ coins: coin })\n                    cb(true);\n                    Bg.runAction(\n                        cc.sequence(\n                            cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                            cc.callFunc(function () {\n                                this.StepView.active = false;\n                            }.bind(this), this)\n                        )\n                    )\n                } else {\n                    window.gameApplication.showCoinView(function (isCompleted) {\n                        if (isCompleted) {\n                            Bg.runAction(\n                                cc.sequence(\n                                    cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                                    cc.callFunc(function () {\n                                        this.StepView.active = false;\n                                    }.bind(this), this)\n                                )\n                            )\n                        }\n                        cb(isCompleted);\n                    }.bind(this), false)\n                }\n            }.bind(this))\n        }, this);\n\n        var laterBtn = this.StepView.getChildByName(\"Bg\").getChildByName(\"Later\");\n        laterBtn.off(cc.Node.EventType.TOUCH_END);\n        laterBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n            cb(false);\n            Bg.runAction(\n                cc.sequence(\n                    cc.scaleTo(0.3, 0).easing(cc.easeSineIn(2)),\n                    cc.callFunc(function () {\n                        this.StepView.active = false;\n                    }.bind(this), this)\n                )\n            )\n        }, this);\n    },\n\n    //视频奖励\n    onVideoBtnClick(cb, isCount) {\n        //SDK注释\n        //D.sdk.openRewardAd(cb(true));\n\n        // SDK().showVideoAd(\n        //     function (isCompleted) {\n        //         if (null == isCompleted) {\n        //             console.log(\"没有观看成功\")\n        //             this.fbFail(1);\n        //             if (cb != null) {\n        //                 cb(false);\n        //             }\n        //         } else if (isCompleted) {\n        //             if (cb != null) {\n        //                 cb(true);\n        //             }\n        //             if (isCount) {\n        //                 this.checkDailyCount(\"video\", true);\n        //             }\n        //         } else {\n        //             console.log(\"没有观看成功\")\n        //             this.fbFail(1);\n        //             if (cb != null) {\n        //                 cb(false);\n        //             }\n        //         }\n        //     }.bind(this)\n        // );\n    },\n\n    //检查日常次数限制\n    checkDailyCount(key, isAdd, cb) {\n        var myDate = new Date();\n        let month = myDate.getMonth();       //获取当前月份(0-11,0代表1月)\n        let day = myDate.getDate();        //获取当前日(1-31)\n        SDK().getItem(month + \"_\" + day + \"_\" + key, function (val) {\n            if (val == null) {\n                val = 0;\n            }\n            val = parseInt(val);\n            if (isAdd) {\n                val = val + 1\n                var param = {};\n                param[month + \"_\" + day + \"_\" + key] = val;\n                SDK().setItem(param);\n            }\n            if (cb != null) {\n                cb(val);\n            }\n        })\n    },\n\n    //插屏广告按钮\n    onGiftBtnClick(cb) {\n        SDK().showInterstitialAd(\n            function (isCompleted) {\n                if (null == isCompleted) {\n                    console.log(\"没有观看成功\")\n                    this.fbFail(1);\n                } else if (isCompleted) {\n                    cb(true);\n                } else {\n                    console.log(\"没有观看成功\")\n                    this.fbFail(1);\n                }\n            }.bind(this)\n            , true);\n    },\n\n    //显示是否分享的提示框\n    showSharaView(cb) {\n        if (this.SharaView == null) {\n            var view = cc.instantiate(this.SharaView_prefab);\n            var Canvas = cc.find(\"Canvas\");\n            view.parent = Canvas;\n            view.width = window.width;\n            view.height = window.height;\n            this.SharaView = view;\n        }\n        this.SharaView.active = true;\n        let sureBtn = this.SharaView.getChildByName(\"Bg\").getChildByName(\"Sure\");\n        sureBtn.off(cc.Node.EventType.TOUCH_END);\n        sureBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            this.onShareBtnClick(function (isCompleted) {\n                cb(isCompleted)\n                if (isCompleted) {\n                    this.SharaView.active = false;\n                }\n            }.bind(this));\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n        }, this);\n\n        var laterBtn = this.SharaView.getChildByName(\"Bg\").getChildByName(\"Later\");\n        laterBtn.off(cc.Node.EventType.TOUCH_END);\n        laterBtn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            this.SharaView.active = false;\n            window.gameApplication.soundManager.playSound(\"btn_click\");\n        }, this);\n    },\n\n    //分享按钮\n    onShareBtnClick(cb, isCount) {\n        SDK().getItem(\"all\", function (score) {\n            // D.sdk.showShare('',()=>{\n            // },true) \n\n\n            //SDK注释\n            // D.sdk.showShare('',function(){\n            //    cb(true);\n            // },isCount);\n            // SDK().share(score, function (isCompleted) {\n            //     if (isCompleted) {//分享激励\n            //         console.log(\"share:\" + score);\n            //         if (cb != null) {\n            //             cb(true)\n            //         }\n            //     } else {\n            //         this.fbFail(2);\n            //     }\n            //     this.soundManager.audioSource.play();\n            //     this.soundManager.audioSource.loop = true;\n            // }.bind(this));\n        }.bind(this))\n    },\n\n    //FB失败界面 \n    fbFail(type) {\n        var view = cc.instantiate(this.fbView_prefab);\n        var Canvas = cc.find(\"Canvas\");\n        view.parent = Canvas;\n        view.width = window.width;\n        view.height = window.height;\n        var btn = view.getChildByName(\"Okay\");\n        btn.off(cc.Node.EventType.TOUCH_END);\n        btn.on(cc.Node.EventType.TOUCH_END, function (event) {\n            this.fbView.active = false;\n            btn.parent.destroy();\n            window.gameApplication.soundManager.playSound(\"button\");\n        }, this);\n        this.fbView = view;\n        if (type == 1) {\n            this.fbView.getChildByName(\"Bg\").getChildByName(\"VideoText\").active = true;\n            this.fbView.getChildByName(\"Bg\").getChildByName(\"ShareText\").active = false;\n        } else {\n            this.fbView.getChildByName(\"Bg\").getChildByName(\"VideoText\").active = false;\n            this.fbView.getChildByName(\"Bg\").getChildByName(\"ShareText\").active = true;\n        }\n        this.fbView.active = true;\n\n    },\n\n    //互推按钮事件\n    popClick(event, type) {\n        SDK().switchGameAsync(type);\n    },\n\n    shake(node) {\n        node.runAction(cc.repeatForever(cc.sequence(\n            cc.rotateTo(0.1, 5).easing(cc.easeIn(2)),\n            cc.rotateTo(0.2, -5).easing(cc.easeIn(2)),\n            cc.rotateTo(0.2, 5).easing(cc.easeIn(2)),\n            cc.rotateTo(0.1, 0).easing(cc.easeIn(2)),\n            cc.delayTime(0.5)\n        )));\n    },\n\n\n    scaleUpAndDowm(node) {\n        node.runAction(\n            cc.repeatForever(\n                cc.sequence(\n                    cc.scaleTo(0.3, 1.1).easing(cc.easeIn(2)),\n                    cc.scaleTo(0.6, 0.9).easing(cc.easeIn(2)),\n                    cc.scaleTo(0.6, 1.1).easing(cc.easeIn(2)),\n                    cc.scaleTo(0.6, 0.9).easing(cc.easeIn(2)),\n                )\n            )\n        );\n    },\n\n    //特效动画\n    flyReward(num, name, target, start, cb) {\n        window.gameApplication.soundManager.playSound(\"getCoin\");\n        //起点\n        let begin;\n        if (start != null) {\n            begin = start.parent.convertToWorldSpaceAR(start.position);\n            begin = this.effectView.convertToNodeSpaceAR(begin);\n        } else {\n            begin = cc.v2(0, 0);\n        }\n        //终点\n        let dis = target.parent.convertToWorldSpaceAR(target.position);\n        dis = this.effectView.convertToNodeSpaceAR(dis);\n        for (var i = 0; i < num; i++) {\n            var reward = this.rewardList.pop();\n            if (reward == null) {\n                reward = new cc.Node(i);\n            }\n            var sprite = reward.getComponent(cc.Sprite);\n            if (sprite == null) {\n                sprite = reward.addComponent(cc.Sprite);\n            }\n            reward.parent = this.effectView;\n            reward.position = begin;\n            sprite.spriteFrame = this.uiAtlas.getSpriteFrame(name);\n            this.flyAnim(reward, dis, cb, i);\n        }\n    },\n\n    flyAnim(reward, dis, cb, i) {\n        reward.scale = 0;\n        this.scheduleOnce(function () {\n            reward.runAction(\n                cc.spawn(\n                    cc.moveTo(0.8, cc.v2(dis.x, dis.y)),\n                    cc.sequence(\n                        cc.scaleTo(0.4, 1.1),\n                        cc.scaleTo(0.4, 0),\n                        //用于只执行一次的\n                        cc.callFunc(function () {\n                            if (cb != null) {\n                                cb()\n                            }\n                            this.rewardList.push(reward);\n                        }.bind(this), this)\n                    )\n                )\n            );\n        }.bind(this), i * 0.1);\n    },\n\n    // update (dt) {},\n});\n"]}