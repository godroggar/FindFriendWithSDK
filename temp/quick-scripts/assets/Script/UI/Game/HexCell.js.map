{"version":3,"sources":["HexCell.js"],"names":["cc","Class","extends","Component","properties","help_end","default","type","Node","help_start","line_end","line_start","_axialCoordinate","v2","visible","axialCoordinate","get","set","val","x","y","onUpdateAxialCoordinate","iceNode","isIce","active","leftTower","rightTower","bottomTower","topTower","hasTower","coordinateText","Label","left","right","top","bottom","leftActive","rightActive","topActive","bottomActive","onLoad","initHexcell","start","scaleChild","setScale","getComponent","setScaleXY","showStartLine","nextNode","setRotation","showEndLine","boforeNode","showLine","hideLine","showStartHelp","showEndHelp","showHelp","hideHelpLine","setIce","setLeft","isShow","setRight","setTop","setBottom","setLeftTower","setRightTower","setTopTower","setBottomTower","reset","string","parseInt","node","isDebug","isClear","arguments"],"mappings":"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","file":"HexCell.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\UI\\Game","sourcesContent":["// var Role = require(\"./Role\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        help_end:{\n            default:null,\n            type:cc.Node,\n        },\n        help_start:{\n            default:null,\n            type:cc.Node,\n        },\n        line_end:{\n            default:null,\n            type:cc.Node,\n        },\n        line_start:{\n            default:null,\n            type:cc.Node,\n        },\n        _axialCoordinate:{\n            default:cc.v2(0,0),\n            visible:false,\n        },\n        axialCoordinate:{\n            get(){\n                return this._axialCoordinate;\n            },\n            set(val){\n                this._axialCoordinate = cc.v2(val.x,val.y);\n                this.onUpdateAxialCoordinate();\n            },\n        },\n        iceNode:{\n            default:null,\n            type:cc.Node,\n        }, \n        isIce:{\n            get(){\n                return this.iceNode.active;\n            }\n        },\n        leftTower:{\n            default:null,\n            type:cc.Node,\n        },\n        rightTower:{\n            default:null,\n            type:cc.Node,\n        },\n        bottomTower:{\n            default:null,\n            type:cc.Node,\n        },\n        topTower:{\n            default:null,\n            type:cc.Node,\n        },\n        hasTower:{\n            get(){\n                return this.leftTower.active || this.rightTower.active || this.bottomTower.active || this.topTower.active;\n            }, \n        },\n        coordinateText:{\n            default:null,\n            type:cc.Label,\n        },\n        //\n        left:{\n            default:null,\n            type:cc.Node,\n        },\n        right:{\n            default:null,\n            type:cc.Node,\n        },\n        top:{\n            default:null,\n            type:cc.Node,\n        },\n        bottom:{\n            default:null,\n            type:cc.Node,\n        },\n        leftActive:{\n            get(){\n                return this.left.active;\n            }\n        },\n        rightActive:{\n            get(){\n                return this.right.active;\n            }\n        },\n        topActive:{\n            get(){\n                return this.top.active;\n            }\n        },\n        bottomActive:{\n            get(){\n                return this.bottom.active;\n            }\n        },\n    },  \n\n    onLoad: function () {\n        this.initHexcell ();\n    },\n\n    start () {\n\n    },\n\n    scaleChild(x,y){\n        this.line_end.setScale(x,y);\n        this.line_start.setScale(x,y);\n        this.help_end.setScale(x,y);\n        this.help_start.setScale(x,y);\n\n        this.leftTower.getComponent(\"Tower\").setScaleXY(x,y);\n        this.topTower.getComponent(\"Tower\").setScaleXY(x,y);\n        this.rightTower.getComponent(\"Tower\").setScaleXY(x,y);\n        this.bottomTower.getComponent(\"Tower\").setScaleXY(x,y);\n\n    },\n\n    showStartLine(nextNode)\n    {\n        if(nextNode == null){\n            return;\n        }\n        this.line_start.active = true;\n\n        //如果x相同，那么是上下\n        if(this.axialCoordinate.x == nextNode.x){\n            if(this.axialCoordinate.y > nextNode.y){\n                this.line_start.setRotation(90);                \n            }else{\n                this.line_start.setRotation(-90);                \n            }\n        }else{\n            if(this.axialCoordinate.x > nextNode.x){\n                this.line_start.setRotation(180);                \n            }else{\n                this.line_start.setRotation(0);                \n            }\n        }\n    },\n    showEndLine(boforeNode)\n    {\n        if(boforeNode == null){\n            return;\n        }\n        this.line_end.active = true;\n\n        if(this.axialCoordinate.x == boforeNode.x){\n            if(this.axialCoordinate.y > boforeNode.y){\n                this.line_end.setRotation(90);                \n            }else{\n                this.line_end.setRotation(-90);                \n            }\n        }else{\n            if(this.axialCoordinate.x > boforeNode.x){\n                this.line_end.setRotation(180);                \n            }else{\n                this.line_end.setRotation(0);                \n            }\n        }\n    },\n    showLine(nextNode,boforeNode)\n    {\n        this.showStartLine(boforeNode);\n        this.showEndLine(nextNode);\n    },\n    hideLine()\n    {\n        this.line_start.active = false;\n        this.line_end.active = false;\n    },\n\n    showStartHelp(nextNode)\n    {\n        if(nextNode == null){\n            return;\n        }\n        this.help_start.active = true;\n\n        //如果x相同，那么是上下\n        if(this.axialCoordinate.x == nextNode.x){\n            if(this.axialCoordinate.y > nextNode.y){\n                this.help_start.setRotation(90);                \n            }else{\n                this.help_start.setRotation(-90);                \n            }\n        }else{\n            if(this.axialCoordinate.x > nextNode.x){\n                this.help_start.setRotation(180);                \n            }else{\n                this.help_start.setRotation(0);                \n            }\n        }\n    },\n\n    showEndHelp(boforeNode)\n    {\n        if(boforeNode == null){\n            return;\n        }\n        this.help_end.active = true;\n\n        if(this.axialCoordinate.x == boforeNode.x){\n            if(this.axialCoordinate.y > boforeNode.y){\n                this.help_end.setRotation(90);                \n            }else{\n                this.help_end.setRotation(-90);                \n            }\n        }else{\n            if(this.axialCoordinate.x > boforeNode.x){\n                this.help_end.setRotation(180);                \n            }else{\n                this.help_end.setRotation(0);                \n            }\n        }\n    },\n\n    showHelp(nextNode,boforeNode)\n    {\n        this.showStartHelp(boforeNode);\n        this.showEndHelp(nextNode);\n    },\n\n    hideHelpLine(){\n        this.help_start.active = false;\n        this.help_end.active = false;\n    },\n\n    setIce(isIce){\n        this.iceNode.active = true;\n    },\n\n    setLeft(isShow){\n        this.left.active = isShow;\n    },\n\n    setRight(isShow){\n        this.right.active = isShow;\n    },\n\n\n    setTop(isShow){\n        this.top.active = isShow;\n    },\n\n    setBottom(isShow){\n        this.bottom.active = isShow;\n    },\n\n    setLeftTower(isShow){\n        this.leftTower.active = isShow;\n    },\n\n    setRightTower(isShow){\n        this.rightTower.active = isShow;\n    },\n\n\n    setTopTower(isShow){\n        this.topTower.active = isShow;\n    },\n\n    setBottomTower(isShow){\n        this.bottomTower.active = isShow;\n    },\n\n    initHexcell()\n    {\n        // coordinateText\n        this.reset();\n    },\n\n    onUpdateAxialCoordinate()\n    {\n        this.coordinateText.string = parseInt(this.axialCoordinate.x)  + \",\"+parseInt(this.axialCoordinate.y) ;\n        this.coordinateText.node.active = isDebug;\n    },\n\n    reset(isClear){//hide lines & remove base highlight\n        var isClear = arguments[0] ? arguments[0] : false;\n        // this.setBaseColor(isClear ? this.baseNormalColor : this.highlightColor);\n        // this.isHighlighted = false;\n        this.setLeft(false);\n        this.setRight(false);\n        this.setTop(false);\n        this.setBottom(false);\n\n        this.setLeftTower(false);\n        this.setRightTower(false);\n        this.setTopTower(false);\n        this.setBottomTower(false);\n\n    },\n\n\n   \n});\n"]}