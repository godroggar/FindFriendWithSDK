{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\UI/assets\\Script\\UI\\SettingView.js"],"names":["cc","Class","extends","Component","properties","selectView","default","type","ScrollView","curLang","Label","musicSprite","Sprite","selectContent","Node","selectItem","musicOn","SpriteFrame","musicOff","onLoad","initToggle","SDK","getItem","idx","i","window","langArr","length","newItem","instantiate","parent","toggle","getComponent","Toggle","isChecked","string","name","find","on","languageSelect","active","bind","event","item","target","tag","menuClick","gameApplication","soundManager","isOpen","spriteFrame","setIsOpen","Math","abs","node","height","lerpACtion","ob","x","start"],"mappings":"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","file":"SettingView.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\UI","sourcesContent":["import { isNull } from \"util\";\n//需要更多源码联系Q:852183691\n//或者\n//关注微信公众号“史于二”\n// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        selectView: {\n            default: null,\n            type: cc.ScrollView,\n        },\n        curLang: {\n            default: null,\n            type: cc.Label,\n        },\n        musicSprite: {\n            default: null,\n            type: cc.Sprite,\n        },\n        selectContent: {\n            default: null,\n            type: cc.Node,\n        },\n        selectItem: {\n            default: null,\n            type: cc.Node,\n        },\n        musicOn: {\n            default: null,\n            type: cc.SpriteFrame,\n        },\n        musicOff: {\n            default: null,\n            type: cc.SpriteFrame,\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.initToggle();\n    },\n\n    initToggle() {\n        SDK().getItem(\"curLang\", function (idx) {\n            if (idx == null) {\n                idx = 0;\n            }\n            for (var i = 0; i < window.langArr.length; i = i + 1) {\n                var newItem = cc.instantiate(this.selectItem);\n                //newItem.tag = i;\n                newItem.parent = this.selectContent;\n                //初始化状态\n                newItem.toggle = newItem.getComponent(cc.Toggle);\n                if (i != idx) {\n                    newItem.toggle.isChecked = false;\n                } else {\n                    newItem.toggle.isChecked = true;\n                    this.curLang.string = window.langArr[i];\n                }\n                //初始化名字\n                var name = cc.find(\"Name\", newItem).getComponent(cc.Label);\n                name.string = window.langArr[i];\n                //初始化处理事件\n                newItem.on('toggle', this.languageSelect, this);\n\n                newItem.active = true;\n            }\n        }.bind(this))\n    },\n\n    languageSelect(event) {\n        var item = event.target;\n        if (item.toggle.isChecked) {\n            this.curLang.string = window.langArr[item.tag];\n            // SDK().setItem({ curLang: item.name },function(){\n            //     cc.director.loadScene(\"loadLanguage\");\n            // }.bind(this));\n        }\n    },\n\n    menuClick(event, type) {\n        if (type == \"music\") {\n            if (window.gameApplication.soundManager.isOpen) {\n                this.musicSprite.spriteFrame = this.musicOff;\n                window.gameApplication.soundManager.setIsOpen(false);\n            } else {\n                this.musicSprite.spriteFrame = this.musicOn;\n                window.gameApplication.soundManager.setIsOpen(true);\n            }\n        } else if (type == \"select\") {\n            var length = 400;\n            if (Math.abs(this.selectView.node.height - length) < 0.01) {\n                window.gameApplication.lerpACtion(length, -length, 0.5, function (ob) {\n                    this.selectView.node.height = ob.x;\n                    if (Math.abs(this.selectView.node.height - 0) < 1) {\n                        this.selectView.node.height = 0;\n                    }\n                }.bind(this))\n            } else if (Math.abs(this.selectView.node.height - 0) < 0.01) {\n                window.gameApplication.lerpACtion(0, length, 0.5, function (ob) {\n                    this.selectView.node.height = ob.x;\n                    if (Math.abs(this.selectView.node.height - length) < 1) {\n                        this.selectView.node.height = length;\n                    }\n                }.bind(this))\n            }\n        }\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});\n"]}