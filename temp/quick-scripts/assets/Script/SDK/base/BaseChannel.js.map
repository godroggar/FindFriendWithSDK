{"version":3,"sources":["BaseChannel.js"],"names":["isNull","obj","undefined","BaseChannel","id","rewardAd","bannerAd","share","nativeAd","adId","isHaveNativeAd","reportAdClick","isHaveBannerAd","getHeight","eventName","func","target","cc","log","addEventListener","reportAdShow","getAdItems","console","payMgr","isHaveRecorder","recorder","start","isSave","stop","url","head","document","getElementsByTagName","script","createElement","type","onload","initFinish","bind","src","onerror","error","appendChild","loginMgr","login","logout","showBanner","hideBanner","title","isShowRecorder","isHaveShare","result","isHaveRewardAd","show","isFinish","getState","RewardADState","close","imageUrl","appID","num","interstitialAd","isHaveInterstitalAd","message","ShakeManager","instance","getFlag","vibrateShort"],"mappings":"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","file":"BaseChannel.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\Script\\SDK\\base","sourcesContent":["\nlet isNull = function (obj) {\n    return obj == null || obj == undefined;\n}\n\nexport default class BaseChannel {\n\n\n    id;\n\n    sdk;\n\n    loginMgr;\n\n\n    rewardAd;\n\n\n    recorder;\n\n    bannerAd;\n\n    share;\n\n    // protected exchagneVolume:ExchangeVolume;\n\n    interstitialAd;\n\n    nativeAd;\n\n    constructor(id) {\n        this.id = id;\n    }\n    getRewardAd() {\n        return this.rewardAd;\n    }\n\n    getBannerAd() {\n        return this.bannerAd;\n    }\n\n    getShare() {\n        return this.share;\n    }\n    getID() {\n        return this.id;\n    }\n\n\n    isHaveNativeAd() {\n        return this.nativeAd != undefined;\n    }\n\n    reportAdClick(adId){\n        if(this.isHaveNativeAd()){\n            this.nativeAd.reportAdClick(adId)\n        }\n    }\n\n    getBannerHeight(){\n        if(this.isHaveBannerAd()){\n           return  this.bannerAd.getHeight();\n        }\n        return 0;\n    }\n\n    nativeAddEventListener(eventName,func,target){\n        if(this.isHaveNativeAd()){\n            cc.log(' nativeAddEventListener ',this.nativeAd)\n            this.nativeAd.addEventListener(eventName,func,target)\n        }\n    }\n\n    reportAdShow(adId) {\n        if(this.isHaveNativeAd()){\n            this.nativeAd.reportAdShow(adId)\n        }\n    }\n\n    getAdItems(){\n        if(this.isHaveNativeAd()){\n            this.nativeAd.getAdItems()\n        }\n        return []\n    }\n\n    isHaveBannerAd() {\n        console.log(\"isHaveBannerAd\"+this.bannerAd != undefined);\n        return this.bannerAd != undefined;\n        \n    }\n\n\n\n    isHaveStore() {\n        return this.payMgr != undefined;\n    }\n\n    /**\n     * \n     */\n    isHaveShare() {\n        return this.share != undefined;\n    }\n\n    // 初始化结束\n    initFinish() {\n\n    }\n\n    //初始化sdk\n    init() {\n        // cc.log(\" \",this.data);\n\n    }\n\n\n    recorderStart(obj) {\n        console.log('recorderStart this.isHaveRecorder()  ',this.isHaveRecorder())\n        if (this.isHaveRecorder()) {\n            this.recorder.start(obj)\n        }\n    }\n\n    getRecorder() {\n        return this.recorder;\n    }\n\n\n    recorderStop(isSave = false) {\n        console.log('recorderStop this.isHaveRecorder()  ',this.isHaveRecorder(),isSave)\n        if (this.isHaveRecorder()) {\n            this.recorder.stop(isSave)\n        }\n    }\n\n    //添加sdk代码\n    addScript(url) {\n        var head = document.getElementsByTagName('head')[0];\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.id = \"\" + this.id;\n        script.onload = this.initFinish.bind(this);\n        script.src = url;\n        script.onerror = function () {\n            // script.src = url;\n            cc.error(\" load script error \", url);\n        }\n        head.appendChild(script);\n    }\n\n\n\n    /**\n     * 显示商城 如果没有不重写\n     */\n    showStore() {\n\n    }\n    /**\n     * 免费复活\n     */\n    freeRevive() {\n\n    }\n\n    login() {\n        this.loginMgr.login()\n    }\n\n    logout() {\n        this.loginMgr.logout();\n    }\n\n    showBanner() {\n        if (this.bannerAd) {\n            console.log(\"show banner\");\n            this.bannerAd.showBanner();\n        }else{\n            console.log(\"no banner\");\n        }\n    }\n\n    hideBanner() {\n        if (this.bannerAd) {\n            this.bannerAd.hideBanner();\n        }\n    }\n\n\n    showShare(title, func,isShowRecorder) {\n        if (this.isHaveShare()) {\n            this.share.share(title, (result)=>{\n                if(result){\n                    func()\n                    //D.control.UITipCback(1)\n                }else{\n\n                }\n            },isShowRecorder)\n        } else {\n            func();\n        }\n    }\n\n    activeSkillLabel() {\n        return '分享释放'\n    }\n\n\n    // hideShare() {\n\n    // }\n\n    // getExchangeVolume(){\n    //     return this.exchagneVolume;\n    // }\n\n\n    openRewardAd(func) {\n        if (this.isHaveRewardAd()) {\n            this.rewardAd.show((isFinish) => {\n                if (isFinish) {\n                    func(true)\n                } else {\n                    func(false)\n\n                }\n            })\n        } else {\n            func(true)\n        }\n    }\n\n    isHaveRewardAd() {\n        return !isNull(this.rewardAd);\n    }\n\n    getRewardAdState() {\n        if (this.rewardAd) {\n            return this.rewardAd.getState();\n        }\n        return RewardADState.close;\n    }\n    isHaveFollow() {\n        return false;\n    }\n\n    isHaveRecorder() {\n        return !isNull(this.recorder)\n    }\n\n\n    showImage(imageUrl) {\n\n    }\n\n    jumpToApp(appID) {\n\n    }\n\n    getAds(num, func) {\n\n    }\n\n\n    isHaveInterstitalAd() {\n        return !isNull(this.interstitialAd);\n    }\n\n    showInterstitialAd(func) {\n        if (this.isHaveInterstitalAd()) {\n            this.interstitialAd.show(func)\n        }\n    }\n\n    intoLobby() {\n\n    }\n    isHaveGameBox() {\n        return false;\n    }\n    isHaveRank() {\n        return false;\n    }\n    postMessage(message) {\n\n    }\n\n\n    vibarate() {\n        if (ShakeManager.instance().getFlag()) {\n            this.vibrateShort();\n        }\n    }\n\n    vibrateShort() {\n\n    }\n\n    createGameClubButton() { }\n\n    hideGameClubButton() { }\n\n    showGameClubButton() {\n\n    }\n}"]}